# We will generally lock on MINOR versions to allow for some patch wiggle room at the library 
# importer, in case some small bug fix happens in the patches
[package]
name = "atb"
version = "0.14.4"
authors = ["Denis Tsai <denistsai@aetheras.io>"]
edition = "2021"

[dependencies]
log = "0.4"
env_logger = "0.8"
ansi_term = "0.12"
thiserror = "1"
anyhow = "1"
futures = "0.3"
lazy_static = "1.4"
chrono = { version = "0.4.21", features = ["serde"] }
rand = "0.8.5"

# Fixtures Optionals
uuid = { version = "0.8", features = ["serde", "v1", "v4", "v5"], optional = true }
fake = { version = "2.2", optional = true }
jsonwebtoken = {version = "8.1", optional = true }

# Eventsourcing
lucidstream = { git = "https://github.com/dt665m/lucidstream-rs.git", tag = "v0.10.2", optional = true }
lucidstream-ges = { git = "https://github.com/dt665m/lucidstream-rs.git", tag = "v0.10.2", optional = true }

[workspace]
members = [
   "types",
   "actix-ext",
   "tokio-ext",
   "graphql",
   "utils/build",
   "utils/cli",
   "utils/serde-ext",
]

# Nothing by default
[features]
default = []
all = [
  "eventsourcing",
  "fixtures",
  "jwt",
]
eventsourcing = [
  "lucidstream",
  "lucidstream-ges",
]
fixtures = [
  "fake/derive",
  "uuid",
]
jwt = [
  "jsonwebtoken"
]
